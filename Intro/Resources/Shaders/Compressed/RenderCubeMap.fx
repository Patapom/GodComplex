#include"Inc/Global.fx"
Texture2D _TexLightMap:register(t10);cbuffer cbObject:register( b10){float4x4 _Local2World;};struct VS_IN{float3 Position:POSITION;float3 Normal:NORMAL;float3 Tangent:TANGENT;float2 UV:TEXCOORD0;float2 UV2:TEXCOORD1;};struct PS_IN{float4 __Position:SV_POSITION;float3 Normal:NORMAL;float2 UV:TEXCOORD0;float2 UV2:TEXCOORD1;};PS_IN VS(VS_IN f){float4 V=mul(float4(f.Position,1.),_Local2World);PS_IN P;P.__Position=mul(V,_World2Proj);P.Normal=f.Normal;P.UV=f.UV;P.UV2=f.UV2;return P;}float4 PS(PS_IN f):SV_TARGET0{return float4(_TexLightMap.SampleLevel(LinearClamp,f.UV2,0.).xyz,1.);float4 V=_TexLightMap.SampleLevel(LinearClamp,f.UV,0.);return float4(V.xyz,1.);return float4(lerp(float3(f.UV,0),V,V.x+V.y),1.);}